<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nightmare Projects | Nightmare Racing</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/indexStyles.css">
    <link rel="stylesheet" href="../css/navStyles.css">
    <link rel="stylesheet" href="../css/featured-cars.css">
    <link rel="stylesheet" href="../css/footer.css">
    
    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <!-- Video Background -->
    <video autoplay muted loop playsinline preload="auto" id="bg-video"
        style="position: fixed; right: 0; bottom: 0; min-width: 100vw; min-height: 100vh; z-index: -1; object-fit: cover; pointer-events: none;">
        <source src="../../assets/bg-video.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../../index.html">
                    <img src="../../assets/logoImage1.png" alt="Nightmare Racing Logo" class="nav-logo" data-logo-target="#home">
                </a>
                <h2>NIGHTMARE<span class="text-accent">RACING</span></h2>
            </div>

            <ul class="nav-menu">
                <li><a href="../../index.html">Home</a></li>
                <li class="has-dropdown">
                    <button type="button" class="dropdown-trigger" aria-haspopup="true" aria-expanded="false">Services</button>
                    <div class="dropdown-menu" role="menu" aria-label="Services">
                        <a class="dropdown-link" href="../../services/coilover-installation.html" role="menuitem">Coilover Installation</a>
                        <a class="dropdown-link" href="../../services/wiring-electrical-repair.html" role="menuitem">Wiring & Electrical Repair</a>
                        <a class="dropdown-link" href="../../services/engine-repair-modification.html" role="menuitem">Engine Repair & Modification</a>
                        <a class="dropdown-link" href="../../services/engine-swaps.html" role="menuitem">Engine Swaps</a>
                        <a class="dropdown-link" href="../../services/aftermarket-components.html" role="menuitem">Aftermarket Components</a>
                        <a class="dropdown-link" href="../../services/brake-system-upgrades.html" role="menuitem">Brake System Upgrades</a>
                        <a class="dropdown-link" href="../../services/lift-kits.html" role="menuitem">Lift Kits</a>
                        <a class="dropdown-link" href="../../services/exhaust-fabrication.html" role="menuitem">Exhaust Fabrication</a>
                        <a class="dropdown-link" href="../../services/intake-valve-carbon-cleaning.html" role="menuitem">Intake Valve Carbon Cleaning</a>
                        <a class="dropdown-link" href="../../services/suspension-repair-tuning.html" role="menuitem">Suspension Repair & Tuning</a>
                        <a class="dropdown-link" href="../../services/fluid-service.html" role="menuitem">Fluid Service</a>
                        <a class="dropdown-link" href="../../services/camshaft-swaps-upgrades.html" role="menuitem">Camshaft Swaps & Upgrades</a>
                    </div>
                </li>
                <li><a href="featured-cars.html" class="active">Our Projects</a></li>
                <li>
                    <a href="#" class="coming-soon-link" aria-disabled="true" tabindex="-1" data-coming-soon="true" aria-label="Shop Parts (Coming Soon)">
                        <span class="coming-soon-label">Shop Parts</span>
                        <span class="coming-soon-hover" aria-hidden="true">Coming Soon</span>
                    </a>
                </li>
                <li><a href="../../index.html#contact">Contact</a></li>
            </ul>

            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <div class="mobile-menu-content">
            <div class="mobile-menu-header">
                <h2>NIGHTMARE<span class="text-accent">RACING</span></h2>
                <button class="mobile-menu-close">&times;</button>
            </div>

            <ul class="mobile-nav-links">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#services">Services</a></li>
                <li class="mobile-submenu-heading">Shop Our Expertise</li>
                <li><a class="mobile-sub-link" href="../../services/coilover-installation.html">Coilover Installation</a></li>
                <li><a class="mobile-sub-link" href="../../services/wiring-electrical-repair.html">Wiring & Electrical Repair</a></li>
                <li><a class="mobile-sub-link" href="../../services/engine-repair-modification.html">Engine Repair & Modification</a></li>
                <li><a class="mobile-sub-link" href="../../services/engine-swaps.html">Engine Swaps</a></li>
                <li><a class="mobile-sub-link" href="../../services/aftermarket-components.html">Aftermarket Components</a></li>
                <li><a class="mobile-sub-link" href="../../services/brake-system-upgrades.html">Brake System Upgrades</a></li>
                <li><a class="mobile-sub-link" href="../../services/lift-kits.html">Lift Kits</a></li>
                <li><a class="mobile-sub-link" href="../../services/exhaust-fabrication.html">Exhaust Fabrication</a></li>
                <li><a class="mobile-sub-link" href="../../services/intake-valve-carbon-cleaning.html">Intake Valve Carbon Cleaning</a></li>
                <li><a class="mobile-sub-link" href="../../services/suspension-repair-tuning.html">Suspension Repair & Tuning</a></li>
                <li><a class="mobile-sub-link" href="../../services/fluid-service.html">Fluid Service</a></li>
                <li><a class="mobile-sub-link" href="../../services/camshaft-swaps-upgrades.html">Camshaft Swaps & Upgrades</a></li>
                <li><a href="featured-cars.html" class="active">Our Projects</a></li>
                <li>
                    <a href="#" class="coming-soon-link" aria-disabled="true" tabindex="-1" data-coming-soon="true" aria-label="Shop Parts (Coming Soon)">
                        <span class="coming-soon-label">Shop Parts</span>
                        <span class="coming-soon-hover" aria-hidden="true">Coming Soon</span>
                    </a>
                </li>
                <li><a href="../../index.html#contact">Contact</a></li>
            </ul>

            <div class="mobile-menu-footer">
                <p>¬© 2025 Nightmare Racing</p>
                <p>Premium Auto Services</p>
            </div>
        </div>
    </div>

    <!-- Projects Section -->
    <section class="featured-cars-page">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <h1>NIGHTMARE <span class="text-accent">PROJECTS</span></h1>
                <p>Explore our portfolio of customer builds and flagship shop creations.</p>
            </div>

            <!-- Filter Controls -->
            <div class="filters-panel" id="filters-panel">
                <div class="filter-field">
                    <label for="filter-search">Search</label>
                    <input type="search" id="filter-search" placeholder="Search builds by name, make, or description">
                </div>
                <div class="filter-field">
                    <label for="filter-status">Status</label>
                    <select id="filter-status">
                        <option value="all">All statuses</option>
                    </select>
                </div>
                <div class="filter-field">
                    <label for="filter-make">Make</label>
                    <select id="filter-make">
                        <option value="all">All makes</option>
                    </select>
                </div>
                <div class="filter-field">
                    <label for="filter-year">Year</label>
                    <select id="filter-year">
                        <option value="all">All years</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button type="button" id="filter-reset" class="filter-reset">Reset Filters</button>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loading-state" class="loading-state">
                <div class="spinner"></div>
                <p>Loading projects...</p>
            </div>

            <!-- Cars Grid -->
            <div id="cars-container" class="cars-container">
                <!-- Cars will be loaded here dynamically -->
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state" style="display: none;">
                <div class="empty-icon" id="empty-state-icon">üèÅ</div>
                <h3 id="empty-state-title">No Projects Yet</h3>
                <p id="empty-state-message">Check back soon for new builds and showcase highlights!</p>
                <button type="button" id="empty-state-reset" class="btn btn-secondary" style="display: none;">Clear Filters</button>
                <a href="../../index.html" class="btn btn-primary">Back to Home</a>
            </div>
        </div>
    </section>

    <!-- Car Detail Modal -->
    <div id="car-modal" class="car-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            
            <div class="modal-body">
                <!-- Image Gallery -->
                <div class="modal-gallery">
                    <div class="main-image-container">
                        <img id="modal-main-image" src="" alt="">
                        <button class="gallery-nav prev-image">‚Äπ</button>
                        <button class="gallery-nav next-image">‚Ä∫</button>
                    </div>
                    <div class="thumbnail-strip" id="modal-thumbnails">
                        <!-- Thumbnails will be loaded here -->
                    </div>
                </div>

                <!-- Car Details -->
                <div class="modal-details">
                    <div class="status-badge" id="modal-status">COMPLETED</div>
                    <h2 id="modal-car-name">Car Name</h2>
                    <p id="modal-car-description">Description</p>
                    
                    <div class="specs-grid" id="modal-specs">
                        <!-- Specs will be loaded here -->
                    </div>

                    <div class="modal-videos" id="modal-videos" style="display: none;">
                        <h3>Project Videos</h3>
                        <div class="video-grid" id="modal-video-grid"></div>
                    </div>

                    <div class="modal-actions">
                        <a href="index.html#contact" class="btn btn-primary">Request Build Quote</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="image-viewer" class="image-viewer" aria-hidden="true">
        <div class="image-viewer-backdrop"></div>
        <div class="image-viewer-content" role="dialog" aria-modal="true" aria-label="Project image viewer">
            <button type="button" class="image-viewer-close" aria-label="Close image viewer">&times;</button>
            <button type="button" class="image-viewer-nav image-viewer-prev" aria-label="Previous image">&#8249;</button>
            <img src="" alt="" class="image-viewer-main">
            <button type="button" class="image-viewer-nav image-viewer-next" aria-label="Next image">&#8250;</button>
            <div class="image-viewer-caption"></div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-section"></div>

    <!-- Load Footer -->
    <script>
        async function loadFooter() {
            try {
                const response = await fetch('footer.html');
                const html = await response.text();
                document.getElementById('footer-section').innerHTML = html;
            } catch (error) {
                console.error('Error loading footer:', error);
            }
        }
        loadFooter();
    </script>

    <!-- Scripts -->
    <script src="../js/index.js"></script>
    <script src="../js/featured-cars.js"></script>
    
    <!-- Netlify Identity initialization -->
    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }
    </script>
</body>
</html>